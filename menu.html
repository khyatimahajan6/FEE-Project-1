<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu</title>
    <link rel="icon" href="feastifylogo.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Poppins:wght@500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="bootstrap.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css">
    <script src="cart.js" defer></script>
    <style>
        body {
            font-family: "Poppins", sans-serif;
        }

        header {
            margin-top: -65px;
        }
    </style>
</head>

<body>
    <header>
        <div class="logo">
            <img src="feastifylogo.png" alt="logo">
            <h1>Feastify</h1>
        </div>
        <input type="checkbox" id="menu-toggle" class="menu-toggle">
        <label for="menu-toggle" class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </label>

        <nav>
            <ul>
                <input type="text" id="searchInput" placeholder="Search for food items...">
                <label for="searchInput"><i class="fa-solid fa-magnifying-glass fa-lg"
                        style="color: #ffffff; padding-top: 16px;"></i></label>
                <script>
                    document.getElementById('searchInput').addEventListener('input', function () {
                        const filter = this.value.toLowerCase(); // Get the search input and convert to lowercase
                        const items = document.querySelectorAll('.menu-items .box'); // Select all menu items

                        items.forEach(item => {
                            const itemName = item.getAttribute('data-name').toLowerCase(); // Get the item name
                            if (itemName.includes(filter)) {
                                item.style.display = 'block'; // Show the item if it matches the filter
                            } else {
                                item.style.display = 'none'; // Hide the item if it doesn't match
                            }
                        });
                    });
                </script>
                <li><a href="index.html"><span class="material-symbols-outlined">home</span> Home</a></li>
                <li><a href="menu.html"><span class="material-symbols-outlined">menu_book</span> Menu</a></li>
                <li><a href="cart.html"><span class="material-symbols-outlined">shopping_cart</span>Cart(<span
                            id="cart-count">0</span>)</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a data-bs-toggle="offcanvas" href="#offcanvas2" role="button" aria-controls="offcanvasExample"><svg
                            class="ppAwf" viewBox="6 -1 12 25" height="19" width="19" fill="white">
                            <path
                                d="M21.966903,13.2244898 C22.0156989,12.8231523 22.0408163,12.4145094 22.0408163,12 C22.0408163,11.8357822 22.036874,11.6724851 22.029079,11.5101984 L17.8574333,11.5102041 C17.8707569,11.6717062 17.877551,11.8350597 17.877551,12 C17.877551,12.4199029 17.8335181,12.8295214 17.749818,13.2244898 L21.966903,13.2244898 Z M21.5255943,15.1836735 L16.9414724,15.1836735 C15.8950289,16.8045422 14.0728218,17.877551 12,17.877551 C9.92717823,17.877551 8.1049711,16.8045422 7.05852762,15.1836735 L2.47440565,15.1836735 C3.80564362,19.168549 7.56739481,22.0408163 12,22.0408163 C16.4326052,22.0408163 20.1943564,19.168549 21.5255943,15.1836735 Z M21.7400381,9.55102041 C20.6468384,5.18931674 16.7006382,1.95918367 12,1.95918367 C7.2993618,1.95918367 3.3531616,5.18931674 2.25996187,9.55102041 L6.6553883,9.55102041 C7.58404845,7.5276442 9.62792376,6.12244898 12,6.12244898 C14.3720762,6.12244898 16.4159515,7.5276442 17.3446117,9.55102041 L21.7400381,9.55102041 Z M2.03309705,13.2244898 L6.25018203,13.2244898 C6.16648186,12.8295214 6.12244898,12.4199029 6.12244898,12 C6.12244898,11.8350597 6.1292431,11.6717062 6.14256675,11.5102041 L1.97092075,11.5102041 C1.96312595,11.6724851 1.95918367,11.8357822 1.95918367,12 C1.95918367,12.4145094 1.98430112,12.8231523 2.03309705,13.2244898 Z M12,24 C5.372583,24 0,18.627417 0,12 C0,5.372583 5.372583,0 12,0 C18.627417,0 24,5.372583 24,12 C24,18.627417 18.627417,24 12,24 Z M12,15.9183673 C14.1640545,15.9183673 15.9183673,14.1640545 15.9183673,12 C15.9183673,9.83594547 14.1640545,8.08163265 12,8.08163265 C9.83594547,8.08163265 8.08163265,9.83594547 8.08163265,12 C8.08163265,14.1640545 9.83594547,15.9183673 12,15.9183673 Z">
                            </path>
                        </svg> Contact Us</a></li>
                <li><a data-bs-toggle="offcanvas" href="#offcanvas1" role="button"
                        aria-controls="offcanvasExample"><span class="material-symbols-outlined">person</span>Sign
                        In</a></li>
            </ul>
        </nav>
    </header>

    <section id="menu" class="menu-section">
        <h2>Menu</h2>
        <p>Discover Your New Favorites!</p>
        <div class="menu-items">
            <div class="box" data-id="1" data-name="Hyderabadi Biryani" data-price="299">
                <img src="https://c.ndtvimg.com/2022-04/fq5cs53_biryani-doubletree-by-hilton_625x300_12_April_22.jpg"
                    alt="Hyderabadi Biryani">
                <h3>Hyderabadi Biryani</h3>
                <p>₹299</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="2" data-name="Paneer Tikka" data-price="249">
                <img src="https://spicecravings.com/wp-content/uploads/2020/10/Paneer-Tikka-Featured-1.jpg"
                    alt="Paneer Tikka">
                <h3>Paneer Tikka</h3>
                <p>₹249</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="3" data-name="Masala Dosa" data-price="149">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSRKEoKRezBKpHWYUIbZaKX9Kw_qCv-hQfTVw&s"
                    alt="Masala Dosa">
                <h3>Masala Dosa</h3>
                <p>₹149</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="4" data-name="Chole Bhature" data-price="149">
                <img src="https://img-global.cpcdn.com/recipes/1d9ce5d3344e6a34/1200x630cq70/photo.jpg"
                    alt="Chole Bhature">
                <h3>Chole Bhature</h3>
                <p>₹149</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="5" data-name="Pav Bhaji" data-price="99">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT1b_FOBgouyPPDPOKpZ1KihH8in0hDNmUZvA&s"
                    alt="Pav Bhaji">
                <h3>Pav Bhaji</h3>
                <p>₹99</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="6" data-name="Chaap" data-price="149">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSWweDD2NLUZQacnzURxVINDUc4UqQrQWv1Gw&s"
                    alt="Chaap">
                <h3>Chaap</h3>
                <p>₹149</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="7" data-name="Manchurian" data-price="129">
                <img src="https://th-i.thgim.com/public/incoming/rycbtc/article67895056.ece/alternates/FREE_1200/iStock-1334115358.jpg"
                    alt="Manchurian">
                <h3>Manchurian</h3>
                <p>₹129</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="8" data-name="Momos" data-price="129">
                <img src="https://static.vecteezy.com/system/resources/previews/040/169/979/non_2x/tibetian-dumplings-momo-with-chicken-meat-or-vegetables-photo.jpg"
                    alt="Momos">
                <h3>Momos</h3>
                <p>₹129</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="9" data-name="Gulab Jamun" data-price="35">
                <img src="https://www.funfoodfrolic.com/wp-content/uploads/2020/07/Gulab-Jamun-Thumbnail.jpg"
                    alt="Gulab Jamun">
                <h3>Gulab Jamun</h3>
                <h4>2 pcs</h4>
                <p>₹35</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="10" data-name="Rasmalai" data-price="49">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTCQNewgnzXefaiC0-uWFDlDLAGVhkheu4l7g&s"
                    alt="Rasmalai">
                <h3>Rasmalai</h3>
                <p>₹49</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="11" data-name="Mango Faluda" data-price="89">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQoLK07hTfOFGBqC2COrfyhjyfr7ClvyHdkZw&s"
                    alt="Mango Faluda">
                <h3>Mango Faluda</h3>
                <p>₹89</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="12" data-name="Cheesecake" data-price="179">
                <img src="https://www.tamingtwins.com/wp-content/uploads/2023/06/image-57.jpeg" alt="Cheesecake">
                <h3>Cheesecake</h3>
                <p>₹179</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="13" data-name="Thali" data-price="299">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQG1CBsAwXRzqHxLpwNMf7hWMDzoVSlTHeuQw&s"
                    alt="Thali">
                <h3>Thali</h3>
                <p>₹299</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="14" data-name="Chicken Biryani" data-price="699">
                <img src="https://static.toiimg.com/thumb/54308405.cms?imgsize=510571&width=800&height=800"
                    alt="Chicken Biryani">
                <h3>Chicken Biryani</h3>
                <p>₹699</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="15" data-name="Chaat" data-price="59">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTxA8bs12HItpUo1HJhy_VeoSWUdLLr0iyp5g&s"
                    alt="Chaat">
                <h3>Chaat</h3>
                <p>₹59</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>

            <div class="box" data-id="16" data-name="Farmhouse Pizza" data-price="299">
                <img src="https://b.zmtcdn.com/data/dish_photos/006/b1fdbc80cdbe6f0ce271e430e8c17006.jpg"
                    alt="Farmhouse Pizza">
                <h3>Farmhouse Pizza</h3>
                <p>₹299</p>
                <button class="add-to-cart">Add to Cart</button>
                <button class="add-to-favourites"><i class="fa fa-heart"></i></button>
            </div>
        </div>
    </section>
    <script>
        // Initialize favourites array from localStorage (if any)
        let favourites = JSON.parse(localStorage.getItem("favourites")) || [];

        // Event listener for "Add to Favourites" buttons
        document.querySelectorAll(".add-to-favourites").forEach((button) => {
            button.addEventListener("click", function () {
                const menuItem = this.closest(".box, .offer-item, .card"); // Find the parent menu item
                const itemId = menuItem.getAttribute("data-id");
                const itemName = menuItem.getAttribute("data-name");
                const itemPrice = menuItem.getAttribute("data-price");
                const itemImage = menuItem.querySelector("img").getAttribute("src"); // Get image URL

                // Check if item is already in favourites
                const isFavourite = favourites.some((item) => item.id === itemId);
                if (!isFavourite) {
                    // Add item to favourites array
                    favourites.push({ id: itemId, name: itemName, price: itemPrice, image: itemImage });

                    // Save updated favourites array to localStorage
                    localStorage.setItem("favourites", JSON.stringify(favourites));

                    // Change the heart icon to filled (❤️) to show it's added to favourites
                    this.innerHTML = '<i class="fa fa-heart" style="color: red;"></i>';

                    // Optionally, show a confirmation message
                    alert(`${itemName} added to favourites!`);
                } else {
                    alert("This item is already in your favourites!");
                }
            });
        });

        // Initialize all hearts with an empty state (❤️ or ♥)
        document.querySelectorAll(".add-to-favourites").forEach((button) => {
            const menuItem = button.closest(".offer-item");
            const itemId = menuItem.getAttribute("data-id");

            // Check if item is already in favourites
            if (favourites.some((item) => item.id === itemId)) {
                button.innerHTML = '<i class="fa fa-heart" style="color: red;"></i>'; // Filled heart
            } else {
                button.innerHTML = '<i class="fa fa-heart"></i>'; // Empty heart
            }
        });

        // Display Favourited Items (Optional: In case you want a separate section for favourites)
        function displayFavourites() {
            const favouritesContainer = document.getElementById("favourites-container");
            favouritesContainer.innerHTML = ""; // Clear the existing favourites

            favourites.forEach((item) => {
                const favouriteItem = document.createElement("div");
                favouriteItem.classList.add("favourite-item");
                favouriteItem.innerHTML = `
            <img src="${item.image}" alt="${item.name}" class="favourite-image" />
            <h3>${item.name}</h3>
            <p>₹${item.price}</p>
            <button class="remove-from-favourites" data-id="${item.id}">Remove from Favourites</button>
        `;
                favouritesContainer.appendChild(favouriteItem);
            });

            // Add event listeners for remove buttons
            document.querySelectorAll(".remove-from-favourites").forEach((button) => {
                button.addEventListener("click", function () {
                    const itemId = this.getAttribute("data-id");
                    favourites = favourites.filter((item) => item.id !== itemId); // Remove item from favourites
                    localStorage.setItem("favourites", JSON.stringify(favourites)); // Update localStorage
                    displayFavourites(); // Re-render favourites
                });
            });
        }

        // Call displayFavourites() when the page loads to show favourites
        displayFavourites();

    </script>
</body>

</html>